<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="index_files/filelist.xml">
<link rel=Edit-Time-Data href="index_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>EECS 366/466 Assignment 8</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="time"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>M. Cenk Çavu&#351;o&#287;lu</o:Author>
  <o:LastAuthor>M. Cenk Çavu&#351;o&#287;lu</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4</o:TotalTime>
  <o:Created>2004-01-11T21:21:00Z</o:Created>
  <o:LastSaved>2004-01-11T21:25:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>839</o:Words>
  <o:Characters>4784</o:Characters>
  <o:Company>Case Western Reserve University</o:Company>
  <o:Lines>39</o:Lines>
  <o:Paragraphs>11</o:Paragraphs>
  <o:CharactersWithSpaces>5612</o:CharactersWithSpaces>
  <o:Version>10.4219</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
h2
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
h3
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
code
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=blue style='tab-interval:.5in'>

<div class=Section1>

<h2>Assignment #8 - Ray Tracing</h2>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h3>Due Date</h3>

  <p>This assignment is due at <st1:time Minute="0" Hour="17">5:00pm</st1:time> 
    on Friday, April 22nd. The assignment may be done in pairs. You may share 
    ideas with other groups, but you <u>may not</u> share code. </p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h3>Submission Instructions</h3>

  <p>Please read all the instructions below.</p>
  <p>All the homeworks need to be implemented on MS Windows platform using C/C++, 
    under MS Visual Studio, unless you make prior arrangements with me. You need 
    to email me (i.e. the instructor) a zipped archive file which contains all 
    the relevant code, including all the source files, visual studio project, 
    and workspace files - all ready to compile and run. Please also include a 
    README file which at least includes your names, and name the zip archieve 
    file with your last names followed by the assignment number (e.g. if John 
    Doe and Jane Doe are turning in assignment 8, the zip achieve file should 
    be named DoeDoeAS8.zip).</p>
  <p>The grading will be based on what proportion of the functionality is implemented 
    and running correctly. There will be no partial grading for partial implentations.</p>
  <div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2>Overview</h2>

<p class=MsoNormal>For this assignment you will implement a basic recursive ray
tracer. As we discussed in class, a ray tracer adds inter-object reflections
and transparency (refraction) to a simple local illumination model. The overall
idea of ray tracing is that you fire primary rays from the center of projection
through all of the pixels in the image plane in order to determine the color of
each pixel. When a primary ray strikes an object, you calculate the intensity
at the intersection point using a local illumination model that includes
ambient, diffuse, and specular components and then fire one reflection ray and
one refraction ray. Each of these secondary rays adds a contribution to the
total intensity of the original intersection point, so the color of the pixel
is determined by taking a weighted sum of the intensities derived from local
illumination, reflection, and refraction. The weights are the various
reflectivity and refraction coefficients for the particular object. </p>

<p>Your program should allow the user to change the apparent resolution of the
display window by hitting '=' and '-.' You will need to divide your image plane
into the appropriate number of &quot;fake&quot; pixels and fire a ray through
each of these pixels. Your program must include both reflection and refraction
rays along with a local illumination model. The required output is a display
window that shows the 3D scene viewed through a camera with its c.o.p. at the
world origin and its image plane some distance away down the negative z axis.
The image plane should be parallel to the x-y plane and centered on the
negative z axis. The user should be able to change the size and z coordinate of
the image plane. When the program starts up, the image plane should be located
at z = -8 and run from (-5,-5) to (5,5) in x and y. </p>

  <p>Your program should run on scenes composed of spheres and triangles meshes. 
    Thus, you will need to write functions to calculate the intersection of a 
    ray with a sphere and the intersection of a ray with a triangle. Note that 
    by &quot;sphere&quot; we mean an object defined by the location of its center 
    and a radius, not a triangle mesh that approximates a sphere. </p>

<p>You should also support both directional and point light sources. Use the
layout file format detailed <a href="#layout">below</a> to describe your
scenes. Assume that the index of refraction for the environment is 1.0, i.e. a
vacuum. </p>

<p><a name=newstuffAmb></a>For ambient illumination calculations, use a global
ambient intensity of (0.3,0.3,0.3). </p>

<p>For full credit, all of the above functionality must be <b>fully</b>
implemented! </p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2>Keyboard Commands</h2>

<p class=MsoNormal>&quot;=&quot;,&quot;-&quot; : increase/decrease the
&quot;fake&quot; pixel resolution of the window<br>
&quot;]&quot;,&quot;[&quot; : move the image plane farther away from/closer to
the origin along the negative z axis<br>
&quot;.&quot;,&quot;,&quot; : increase/decrases the x,y dimensions of the image
plane<br>
&quot;r&quot; : redraw the image </p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=layout>Layout File Format</a></h2>

<p class=MsoNormal>The layout files will specify the number, locations, types,
and colors of the lights in the scene along with similar info for the objects
in world. The file format is as follows. </p>

<p><code><span style='font-size:10.0pt'>&lt; number of lights &gt; &lt; number
of spheres &gt; &lt; number of triangle meshes &gt; </span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>L &lt; light type &gt; &lt; x y z &gt; &lt; R G B &gt; </code><br>
<code>. </code><br>
<code>. </code><br>
<code>. </code><br>
<code>S &lt; x y z &gt; &lt; radius &gt; &lt; R G B ambient &gt; &lt; R G B
diffuse &gt; &lt; R G B specular &gt; &lt; k_ambient &gt; &lt; k_diffuse &gt;
&lt; k_specular &gt; &lt; specular_exponent &gt; &lt; index of refraction &gt;
&lt; k_reflective &gt; &lt; k_refractive &gt; </code><br>
<code>. </code><br>
<code>. </code><br>
<code>. </code><br>
<code>M &lt; file.obj &gt; &lt; scale &gt; &lt; rotX rotY rotZ &gt; &lt; x y z
&gt; &lt; R G B ambient &gt; &lt; R G B diffuse &gt; &lt; R G B specular &gt;
&lt; k_ambient &gt; &lt; k_diffuse &gt; &lt; k_specular &gt; &lt;
specular_exponent &gt; &lt; index of refraction &gt; &lt; k_reflective &gt;
&lt; k_refractive &gt; </code><br>
<code>. </code><br>
<code>. </code><br>
<code>. </code></span></p>

<p>Lines begining with 'L' provide info about lights. Light type will be 0 for
directional lights and 1 for point lights. If the light is directional, then
&lt; x y z &gt; is its direction. If it's a point light, then &lt; x y z &gt;
is its location. &lt; R G B &gt; is the intensity of the light for all illumination
components. </p>

<p>Lines starting with 'S' describe spheres. The RGB values specified for each
sphere are the sphere's ambient, diffuse, and specular colors. As we discussed
in class, these are the colors of light that the object reflects in each case.
The other entries are self-explanatory. Note that k_reflective is typically set
to be the same as k_specular, because they both represent the specular
reflectivity of the object. However, it is not unknown for scenes to be
rendered with different values for these constants. </p>

  <p>Triangle meshes are described by lines similar to those used in the layout 
    file format for as4.</p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2>Sample Layout Files</h2>

  <p>You can find a few sample layout files <a href="samples.html">here</a>.</p>
  <hr>
  <h2>Ray Tracing Algorithm Outline</h2>
  <p>You can find the outline of the recursive ray tracing algorithm <a href="raytracing.pdf">here</a>. 
    (From A. Watt, <i>3D Computer Graphics</i>.)</p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<p><i>Adopted from a homework prepared by Tolga Goktekin , Lillian Chu, Michael
Downes ,UCB 2002.</i></p>

<p><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
